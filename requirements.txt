import streamlit as st
import pandas as pd
import plotly.express as px
import plotly.graph_objects as go

# --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã ---
st.set_page_config(
    page_title="–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ê–ª—å—Ñ–∞-–ë–∞–Ω–∫ 2026",
    page_icon="üÖ∞Ô∏è",
    layout="wide",
    initial_sidebar_state="expanded"
)

# --- –°—Ç–∏–ª–∏ CSS –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–¥–∞ ---
st.markdown("""
<style>
    .metric-card {
        background-color: #f0f2f6;
        padding: 20px;
        border-radius: 10px;
        border-left: 5px solid #ef3124; /* –ê–ª—å—Ñ–∞ –ö—Ä–∞—Å–Ω—ã–π */
    }
    .stTabs [data-baseweb="tab-list"] {
        gap: 10px;
    }
    .stTabs [data-baseweb="tab"] {
        height: 50px;
        white-space: pre-wrap;
        background-color: #f0f2f6;
        border-radius: 5px;
        color: #000;
        font-weight: 600;
    }
    .stTabs [data-baseweb="tab"][aria-selected="true"] {
        background-color: #ef3124;
        color: white;
    }
    h1, h2, h3 {
        color: #1f1f1f;
    }
</style>
""", unsafe_allow_html=True)

# --- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å ---
with st.sidebar:
    st.title("üÖ∞Ô∏è –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2026")
    st.info("**–†–æ–ª—å:** –î–∏—Ä–µ–∫—Ç–æ—Ä –ø–æ AI –∏ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏")
    st.markdown("---")
    st.markdown("**–°—Ç–∞—Ç—É—Å:** –ß–µ—Ä–Ω–æ–≤–∏–∫ –¥–ª—è –ü—Ä–∞–≤–ª–µ–Ω–∏—è")
    st.markdown("**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025")
    st.markdown("---")
    st.write("–¶–µ–ª—å: –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –æ—Ç—Ç–æ–∫–∞ (Churn) –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∏–∑–¥–µ—Ä–∂–µ–∫ (Cost Cutting).")

# --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ ---
st.title("–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ B2C: –û—Ç ¬´–õ–æ–≤—É—à–∫–∏¬ª –∫ ¬´–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏¬ª")
st.markdown("### –ê–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–∏, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã –∏ AI-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è")

# --- –í–∫–ª–∞–¥–∫–∏ ---
tab1, tab2, tab3 = st.tabs(["üìä 1. –û—Ü–µ–Ω–∫–∞ –∏ –ë–æ–ª–∏", "üöÄ 2. –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã", "ü§ñ 3. AI-–ü–æ—Ä—Ç—Ñ–µ–ª—å –î–∏—Ä–µ–∫—Ç–æ—Ä–∞"])

# ==========================
# –í–∫–ª–∞–¥–∫–∞ 1: –û—Ü–µ–Ω–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–∏
# ==========================
with tab1:
    st.header("–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –ø–æ–ª—è (2025)")
    
    # –ú–µ—Ç—Ä–∏–∫–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è
    col1, col2, col3, col4 = st.columns(4)
    with col1:
        st.metric(label="–ü—Ä–æ–≥–Ω–æ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑—ã", value="180 –º–ª–Ω", delta="-10 –º–ª–Ω –æ—Ç –ø–ª–∞–Ω–∞", delta_color="inverse")
        [cite_start]st.caption("–°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å 190 –º–ª–Ω [cite: 14]")
    with col2:
        st.metric(label="–î—Ä–∞–π–≤–µ—Ä –æ—Ç—Ç–æ–∫–∞ (UX)", value="18%", delta="–ö—Ä–∏—Ç–∏—á–Ω–æ", delta_color="inverse")
        [cite_start]st.caption("–ö–ª–∏–µ–Ω—Ç—ã —É—Ö–æ–¥—è—Ç –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ [cite: 132]")
    with col3:
        st.metric(label="–¶–µ–Ω–æ–≤–æ–π —Ä–∞–∑—Ä—ã–≤ (–í–∫–ª–∞–¥—ã)", value="-2.0 –ø.–ø.", delta="–ù–∏–∂–µ —Ä—ã–Ω–∫–∞", delta_color="inverse")
        [cite_start]st.caption("16.5% –ø—Ä–æ—Ç–∏–≤ 18.5% —É –ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫–∞ [cite: 78, 79]")
    with col4:
        st.metric(label="–®—Ç—Ä–∞—Ñ—ã –∏ –†–∏—Å–∫–∏", value="High", delta="–§–ê–° / 115-–§–ó", delta_color="inverse")
        [cite_start]st.caption("–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –≤ —Ä–µ–∫–ª–∞–º–µ [cite: 168]")

    st.markdown("---")
    st.subheader("–ö–∞—Ä—Ç–∞ –ø—Ä–æ–±–ª–µ–º –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º")

    # –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–±–ª–µ–º
    problems_data = [
        {
            "–°–µ–≥–º–µ–Ω—Ç": "–ú–∞—Å—Å–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç (Daily Banking)",
            "–°—Ç–∞—Ç—É—Å": "üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ",
            "–°—É—Ç—å –±–æ–ª–∏": "–î–µ–≤–∞–ª—å–≤–∞—Ü–∏—è –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–ª–æ–∂–Ω—ã–π –¥–æ—Å—Ç—É–ø",
            "–§–∞–∫—Ç—ã –∏ –ú–µ—Ç—Ä–∏–∫–∏ 2025": """
            [cite_start]‚Ä¢ –ü–æ—Ä–æ–≥ –≤—ã–≤–æ–¥–∞ –∫—ç—à–±—ç–∫–∞ 1000‚ÇΩ (2-3 –º–µ—Å. –æ–∂–∏–¥–∞–Ω–∏—è)[cite: 61].
            [cite_start]‚Ä¢ –ù–∞–≤—è–∑–∞–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ (399‚ÇΩ) –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π[cite: 266].
            [cite_start]‚Ä¢ ¬´–ë–∞—Ä–∞–±–∞–Ω¬ª –≤–º–µ—Å—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã–≥–æ–¥—ã[cite: 263].
            [cite_start]‚Ä¢ –°–ª–æ–∂–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ iOS (iMazing)[cite: 228].
            """
        },
        {
            "–°–µ–≥–º–µ–Ω—Ç": "–ò–Ω–≤–µ—Å—Ç–æ—Ä—ã (Wealth)",
            "–°—Ç–∞—Ç—É—Å": "üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ",
            "–°—É—Ç—å –±–æ–ª–∏": "–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ä–∞–ª–∏—á",
            "–§–∞–∫—Ç—ã –∏ –ú–µ—Ç—Ä–∏–∫–∏ 2025": """
            [cite_start]‚Ä¢ –°–±–æ–π 12.09 (9 —á–∞—Å–æ–≤ –ø—Ä–æ—Å—Ç–æ—è, –∑–∞—Ç—Ä–æ–Ω—É–ª –°–ë–ü)[cite: 39].
            [cite_start]‚Ä¢ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ 1, 10, 11 –Ω–æ—è–±—Ä—è[cite: 214].
            [cite_start]‚Ä¢ –§–∞–Ω—Ç–æ–º–Ω—ã–µ –±–∞–ª–∞–Ω—Å—ã (–∏—Å–∫–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö) 17 –Ω–æ—è–±—Ä—è[cite: 217].
            """
        },
        {
            "–°–µ–≥–º–µ–Ω—Ç": "–ó–∞–µ–º—â–∏–∫–∏ (Credit)",
            "–°—Ç–∞—Ç—É—Å": "üü† –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫",
            "–°—É—Ç—å –±–æ–ª–∏": "–û–±–º–∞–Ω—É—Ç—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è (¬´–ö–∞–ø–∫–∞–Ω¬ª)",
            "–§–∞–∫—Ç—ã –∏ –ú–µ—Ç—Ä–∏–∫–∏ 2025": """
            [cite_start]‚Ä¢ –®—Ç—Ä–∞—Ñ—ã –§–ê–° –∑–∞ —Å–∫—Ä—ã—Ç–∏–µ —É—Å–ª–æ–≤–∏–π –≤ —Ä–µ–∫–ª–∞–º–µ[cite: 168].
            [cite_start]‚Ä¢ –ü–µ—Ä–µ—Å—á–µ—Ç % –∑–∞ –≤–µ—Å—å —Å—Ä–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤ 1 –¥–µ–Ω—å (—Å—Ç–∞–≤–∫–∏ 40-60%)[cite: 280].
            [cite_start]‚Ä¢ ¬´–ì–æ–¥ –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤¬ª –¥–µ-—Ñ–∞–∫—Ç–æ —á–∞—Å—Ç–æ 60 –¥–Ω–µ–π[cite: 71].
            """
        },
        {
            "–°–µ–≥–º–µ–Ω—Ç": "–í–∫–ª–∞–¥—á–∏–∫–∏ (Savings)",
            "–°—Ç–∞—Ç—É—Å": "üü° –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫",
            "–°—É—Ç—å –±–æ–ª–∏": "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–µ–≤—ã–≥–æ–¥–Ω–æ—Å—Ç—å",
            "–§–∞–∫—Ç—ã –∏ –ú–µ—Ç—Ä–∏–∫–∏ 2025": """
            [cite_start]‚Ä¢ –°—Ç–∞–≤–∫–∞ 16.5% –Ω–µ–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞ –ø—Ä–æ—Ç–∏–≤ 18.5%[cite: 79].
            [cite_start]‚Ä¢ –ü–æ—Ç–µ—Ä—è 20 000‚ÇΩ –≤ –≥–æ–¥ —Å 1 –º–ª–Ω –¥–µ–ø–æ–∑–∏—Ç–∞[cite: 80].
            [cite_start]‚Ä¢ –í—ã—Å–æ–∫–∏–µ —Å—Ç–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è ¬´–Ω–æ–≤—ã—Ö¬ª –¥–µ–Ω–µ–≥ (Welcome)[cite: 641].
            """
        }
    ]
    
    # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º —á–µ—Ä–µ–∑ Expander –¥–ª—è –∞–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç–∏
    for p in problems_data:
        with st.expander(f"{p['–°—Ç–∞—Ç—É—Å']} | {p['–°–µ–≥–º–µ–Ω—Ç']} ‚Äî {p['–°—É—Ç—å –±–æ–ª–∏']}", expanded=True):
            st.markdown(p['–§–∞–∫—Ç—ã –∏ –ú–µ—Ç—Ä–∏–∫–∏ 2025'])

# ==========================
# –í–∫–ª–∞–¥–∫–∞ 2: –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã
# ==========================
with tab2:
    st.header("–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π 2026")
    st.markdown("#### –§–∏–ª–æ—Å–æ—Ñ–∏—è: –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç ¬´–ë–∞–Ω–∫–∞-–ª–æ–≤—É—à–∫–∏¬ª –∫ ¬´–ü–∞—Ä—Ç–Ω–µ—Ä—É –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç–∏¬ª")
    
    col_init_1, col_init_2 = st.columns(2)
    
    with col_init_1:
        st.markdown("### üõçÔ∏è –ú–∞—Å—Å–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç")
        with st.container(border=True):
            st.markdown("**1. UX-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ¬´–û—Å–æ–∑–Ω–∞–Ω–Ω–æ—Å—Ç—å¬ª (–í–º–µ—Å—Ç–æ –°—É–ø–µ—Ä–∞–ø–ø–∞)**")
            [cite_start]st.markdown("*–ü—Ä–æ–±–ª–µ–º–∞:* –û—Ç—Ç–æ–∫ 18% –∏–∑-–∑–∞ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞[cite: 132].")
            st.markdown("*–†–µ—à–µ–Ω–∏–µ:* –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –±–µ–∑ —Ä–µ–∫–ª–∞–º–Ω–æ–≥–æ —à—É–º–∞. –í–∏–¥–∂–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ (–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤ 1 —Å–≤–∞–π–ø).")
            st.success("**–≠–∫–æ–Ω–æ–º–∏–∫–∞:** –°–Ω–∏–∂–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤ –≤ –ö–¶ (Call Deflection) –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤.")

        with st.container(border=True):
            st.markdown("**2. –õ–æ—è–ª—å–Ω–æ—Å—Ç—å: ¬´–≠–∫–æ—Å–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è¬ª**")
            [cite_start]st.markdown("*–ü—Ä–æ–±–ª–µ–º–∞:* –ü–æ—Ä–æ–≥ 1000‚ÇΩ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤[cite: 61].")
            st.markdown("*–†–µ—à–µ–Ω–∏–µ:* –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç—Ä–∞—Ç–∏—Ç—å –∫—ç—à–±—ç–∫ **–æ—Ç 1 —Ä—É–±–ª—è** –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (—Å–≤—è–∑—å, –∫–æ–º–∏—Å—Å–∏–∏).")
            st.success("**–≠–∫–æ–Ω–æ–º–∏–∫–∞:** –î–µ–Ω—å–≥–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –±–∞–Ω–∫–µ, –Ω–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –≤—ã–≤–æ–¥.")

    with col_init_2:
        st.markdown("### ‚öñÔ∏è –ö—Ä–µ–¥–∏—Ç—ã –∏ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏")
        with st.container(border=True):
            st.markdown("**3. –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞ ¬´–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –ì—Ä–µ–π—Å¬ª**")
            [cite_start]st.markdown("*–ü—Ä–æ–±–ª–µ–º–∞:* –®—Ç—Ä–∞—Ñ—ã –§–ê–° –∏ –Ω–µ–≥–∞—Ç–∏–≤ ¬´–æ–±–º–∞–Ω—É—Ç—ã—Ö¬ª[cite: 168].")
            st.markdown("*–†–µ—à–µ–Ω–∏–µ:* –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—É—à–∏ —Å **—Ç–æ—á–Ω–æ–π —Å—É–º–º–æ–π** –¥–æ–ª–≥–∞ –∑–∞ 3 –¥–Ω—è –¥–æ –∫–æ–Ω—Ü–∞ –ª—å–≥–æ—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞.")
            st.success("**–≠–∫–æ–Ω–æ–º–∏–∫–∞:** –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ —à—Ç—Ä–∞—Ñ–∞—Ö > –†–∞–∑–æ–≤–æ–π –ø—Ä–∏–±—ã–ª–∏ –æ—Ç –æ—à–∏–±–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤.")

        with st.container(border=True):
            st.markdown("**4. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –º–æ—Ä–∞—Ç–æ—Ä–∏–π**")
            [cite_start]st.markdown("*–ü—Ä–æ–±–ª–µ–º–∞:* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–±–æ–∏ –±—Ä–æ–∫–µ—Ä–∞[cite: 214].")
            st.markdown("*–†–µ—à–µ–Ω–∏–µ:* –ó–∞–º–æ—Ä–æ–∑–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–∏—á –≤ Q1-Q2 2026. –ë—é–¥–∂–µ—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—é —è–¥—Ä–∞.")
            st.success("**–≠–∫–æ–Ω–æ–º–∏–∫–∞:** –£–¥–µ—Ä–∂–∞–Ω–∏–µ VIP-—Å–µ–≥–º–µ–Ω—Ç–∞ (LTV).")

    st.markdown("### üì± –î–æ—Å—Ç—É–ø (iOS)")
    st.info("**–†–µ—à–µ–Ω–∏–µ:** ¬´–û—Ñ–∏—Å –∫–∞–∫ IT-—Ö–∞–±¬ª. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –≤ –æ—Ç–¥–µ–ª–µ–Ω–∏—è—Ö —á–µ—Ä–µ–∑ –∫–∞–±–µ–ª—å (–∫–∞–∫ —É –°–±–µ—Ä–∞). –≠–∫–æ–Ω–æ–º–∏—è –Ω–∞ –∫—É—Ä—å–µ—Ä–∞—Ö.")

# ==========================
# –í–∫–ª–∞–¥–∫–∞ 3: AI –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã
# ==========================
with tab3:
    st.header("–ü–æ—Ä—Ç—Ñ–µ–ª—å –î–∏—Ä–µ–∫—Ç–æ—Ä–∞ –ø–æ AI –∏ –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏")
    st.markdown("–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –¥–ª—è —Ä–æ—Å—Ç–∞ LTV –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤.")

    # Roadmap Chart
    st.subheader("–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (2026)")
    
    df_roadmap = pd.DataFrame([
        dict(Task="1. –ü–∏–ª–æ—Ç Geo-Triggers (Quick Win)", Start='2026-01-01', Finish='2026-03-31', Resource='Revenue'),
        dict(Task="2. GenAI –û–ø–µ—Ä–∞—Ç–æ—Ä (Cost Cutting)", Start='2026-02-01', Finish='2026-08-30', Resource='Cost'),
        dict(Task="3. –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–π Retention –í–∫–ª–∞–¥–æ–≤", Start='2026-04-01', Finish='2026-09-30', Resource='Revenue'),
        dict(Task="4. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π Smart UX", Start='2026-06-01', Finish='2026-12-31', Resource='Strategic')
    ])
    
    fig = px.timeline(df_roadmap, x_start="Start", x_end="Finish", y="Task", color="Resource", title="–ì—Ä–∞—Ñ–∏–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏")
    fig.update_yaxes(autorange="reversed")
    st.plotly_chart(fig, use_container_width=True)

    # –î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤
    st.markdown("---")
    
    col_ai_1, col_ai_2 = st.columns(2)

    with col_ai_1:
        st.subheader("üöÄ 1. –ì–∏–ø–µ—Ä-–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è")
        st.markdown("**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Contextual AI Engine (Geo + Spending)")
        st.markdown("""
        * **Geo-Triggers:** –ü—É—à —Å—Ç—Ä–∞—Ö–æ–≤–∫–∏ –í–ó–†, –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç—É.
        * **Spending Insights:** –ê–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ ¬´–ë–∞—Ä–∞–±–∞–Ω–∞¬ª –∫—ç—à–±—ç–∫–∞ ‚Äî –≤—ã–¥–∞—á–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´–†–µ–º–æ–Ω—Ç¬ª, –µ—Å–ª–∏ AI –≤–∏–¥–∏—Ç —Ç—Ä–∞—Ç—ã –≤ —Å—Ç—Ä–æ–π–º–∞–≥–∞–∑–∏–Ω–∞—Ö.
        """)
        st.metric("KPI", "–†–æ—Å—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ (CR)", "+15%")

        st.subheader("üì± 2. –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π UX (Smart Interface)")
        st.markdown("**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** AI-Driven UI")
        st.markdown("""
        * –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.
        * –ü–µ–Ω—Å–∏–æ–Ω–µ—Ä—É ‚Äî –∫–Ω–æ–ø–∫–∏ ¬´–ñ–ö–•¬ª. –¢—Ä–µ–π–¥–µ—Ä—É ‚Äî –≤–∏–¥–∂–µ—Ç –ø–æ—Ä—Ç—Ñ–µ–ª—è.
        * –°–∫—Ä—ã—Ç–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (¬´–±–∏–ª–µ—Ç—ã¬ª –¥–ª—è –¥–æ–º–æ—Å–µ–¥–æ–≤).
        """)
        st.metric("KPI", "–°–Ω–∏–∂–µ–Ω–∏–µ Churn (UX)", "-5 –ø.–ø.")

    with col_ai_2:
        st.subheader("üí∞ 3. –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ —É–¥–µ—Ä–∂–∞–Ω–∏–µ")
        st.markdown("**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** Churn Prediction Model")
        st.markdown("""
        * –í—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏ —É—Ö–æ–¥–∞ (–∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π).
        * –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞–¥–±–∞–≤–∫–∏ (+1.5%) **—Ç–æ–ª—å–∫–æ** –≤ –º–æ–º–µ–Ω—Ç –ø–æ–ø—ã—Ç–∫–∏ –≤—ã–≤–æ–¥–∞ –¥–µ–Ω–µ–≥.
        """)
        st.metric("KPI", "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä–∂–∏", "–í—ã—Å–æ–∫–æ–µ")

        st.subheader("ü§ñ 4. GenAI-–û–ø–µ—Ä–∞—Ç–æ—Ä")
        st.markdown("**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:** LLM Agents (Actionable)")
        st.markdown("""
        * –ë–æ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç, –∞ **–≤—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è**.
        * –°–∞–º –æ—Ç–∫–ª—é—á–∞–µ—Ç —É—Å–ª—É–≥–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ø—Ä–∞–≤–∫–∏.
        * –°–Ω–∏–º–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É —Å –ª—é–¥–µ–π.
        """)
        st.metric("KPI", "Call Deflection", "30-40%")

# --- –§—É—Ç–µ—Ä ---
st.markdown("---")
st.caption("¬© 2025 –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç –ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.")streamlit
pandas
plotly